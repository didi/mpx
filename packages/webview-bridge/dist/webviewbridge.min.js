/**
 * mpxjs webview bridge v2.10.6
 * (c) 2025 @mpxjs team
 * @license Apache
 */
var e,a;e=this,a=function(){"use strict";var e,a,o,t,n,i=Object.assign({wx:{url:"https://res.wx.qq.com/open/js/jweixin-1.3.2.js"},qq:{url:"https://qqq.gtimg.cn/miniprogram/webview_jssdk/qqjssdk-1.0.0.js"},my:{url:"https://appx/web-view.min.js"},swan:{url:"https://b.bdstatic.com/searchbox/icms/searchbox/js/swan-2.0.4.js"},tt:{url:"https://lf3-cdn-tos.bytegoofy.com/obj/goofy/developer/jssdk/jssdk-1.2.1.js"}},window.sdkUrlMap),r=null,c=0,s=(t=location.href,(n=/mpx_webview_id=(\d+)/g.exec(t))&&n[1]&&(o=+n[1]),o),d={},w=function(e){var a=e.callbackId,o=e.error,t=e.result;void 0!==a&&d[a]&&(o?d[a](o):d[a](null,t),delete d[a])},g=navigator.userAgent;g.indexOf("AlipayClient")>-1&&g.indexOf("MiniProgram")>-1?r="my":g.toLowerCase().indexOf("miniprogram")>-1?r=g.indexOf("QQ")>-1?"qq":"wx":g.indexOf("swan/")>-1?r="swan":g.toLocaleLowerCase().indexOf("toutiao")>-1?r="tt":window.ReactNativeWebView?(r="rn",window.mpxWebviewMessageCallback=w):(r="web",window.addEventListener("message",(function(e){var a=e.data;try{"string"==typeof a&&(a=JSON.parse(a))}catch(e){}w(a)}),!1));var p=!1;function l(a){p?a():e.then((function(){p=!0,a()}))}var v={config:function(e){"wx"===r?l((function(){window.wx&&window.wx.config(e)})):console.warn("\u975e\u5fae\u4fe1\u73af\u5883\u4e0d\u9700\u8981\u914d\u7f6econfig")},loadJSSDKError:function(e){a=e}};function u(e){for(var a=arguments.length,o=new Array(a>1?a-1:0),t=1;t<a;t++)o[t-1]=arguments[t];"invoke"===e&&(e=o[0],o=o.slice(1));var n=o[0]||{};if("getEnv"!==e){var i=++c;d[i]=function(e,a){e?(n.fail&&n.fail(e),n.complete&&n.complete(e)):(n.success&&n.success(a),n.complete&&n.complete(a)),delete d[i]};var r={type:e,callbackId:c,args:o};void 0!==s&&(r.clientUid=s),window.ReactNativeWebView?window.ReactNativeWebView.postMessage&&window.ReactNativeWebView.postMessage(JSON.stringify(r)):window.parent.postMessage&&window.parent.postMessage(JSON.stringify(r),"*")}else{var w={webapp:!0};window.ReactNativeWebView&&(w={reactNative:!0}),n(w)}}var m=function(){var e={wx:{keyName:"miniProgram",api:["navigateTo","navigateBack","switchTab","reLaunch","redirectTo","postMessage","getEnv"]},tt:{keyName:"miniProgram",api:["redirectTo","navigateTo","switchTab","reLaunch","navigateBack","setSwipeBackModeSync","postMessage","getEnv","checkJsApi","chooseImage","compressImage","previewImage","uploadFile","getNetworkType","openLocation","getLocation"]},swan:{keyName:"webView",api:["navigateTo","navigateBack","switchTab","reLaunch","redirectTo","getEnv","postMessage"]},qq:{keyName:"miniProgram",api:["navigateTo","navigateBack","switchTab","reLaunch","redirectTo","getEnv","postMessage"]}}[r]||{},a={wx:["checkJSApi","chooseImage","previewImage","uploadImage","downloadImage","getLocalImgData","startRecord","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","downloadVoice","translateVoice","getNetworkType","openLocation","getLocation","startSearchBeacons","stopSearchBeacons","onSearchBeacons","scanQRCode","chooseCard","addCard","openCard"],my:["navigateTo","navigateBack","switchTab","reLaunch","redirectTo","chooseImage","previewImage","getLocation","openLocation","alert","showLoading","hideLoading","getNetworkType","startShare","tradePay","postMessage","onMessage","getEnv"],swan:["makePhoneCall","setClipboardData","getNetworkType","openLocation","getLocation","chooseLocation","chooseImage","previewImage","openShare","navigateToSmartProgram"],web:["navigateTo","navigateBack","switchTab","reLaunch","redirectTo","getEnv","postMessage","getLocation","invoke"],rn:["navigateTo","navigateBack","switchTab","reLaunch","redirectTo","getEnv","postMessage","getLocation","invoke"],tt:[]}[r]||[];(e.api||[]).forEach((function(a){v[a]=function(){for(var o=arguments.length,t=new Array(o),n=0;n<o;n++)t[n]=arguments[n];l((function(){var o;(o=window[r][e.keyName])[a].apply(o,t)}))}})),a.forEach((function(e){v[e]=function(){for(var a=arguments.length,o=new Array(a),t=0;t<a;t++)o[t]=arguments[t];"web"===r||"rn"===r?u.apply(void 0,[e].concat(o)):l("wx"===r?function(){window[r]&&window[r].ready((function(){var a;(a=window[r])[e].apply(a,o)}))}:function(){var a;(a=window[r])[e].apply(a,o)})}}))};return e="web"!==r&&"rn"!==r?i[r].url?function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.time,t=void 0===o?5e3:o,n=a.crossOrigin,i=void 0!==n&&n;function r(){return new Promise((function(a,o){var t=document.createElement("script");t.type="text/javascript",t.async="async",i&&(t.crossOrigin="anonymous"),t.onload=t.onreadystatechange=function(){this.readyState&&!/^(loaded|complete)$/.test(this.readyState)||(a(),t.onload=t.onreadystatechange=null)},t.onerror=function(){o(new Error("load ".concat(e," error"))),t.onerror=null},t.src=e,document.getElementsByTagName("head")[0].appendChild(t)}))}function c(){return new Promise((function(a,o){setTimeout((function(){o(new Error("load ".concat(e," timeout")))}),t)}))}return Promise.race([r(),c()])}(i[r].url).catch((function(e){a(null==e?void 0:e.message)})):Promise.reject(new Error("\u672a\u627e\u5230\u5bf9\u5e94\u7684sdk")):Promise.resolve(),m(),v},"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define(a):(e=e||self).mpx=a();