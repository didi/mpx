/**
 * mpxjs webview bridge v2.10.6
 * (c) 2025 @mpxjs team
 * @license Apache
 */
var e,o;e=this,o=function(){"use strict";var e,o,a,n,t=[],i=Object.assign({wx:{url:"https://res.wx.qq.com/open/js/jweixin-1.3.2.js"},qq:{url:"https://qqq.gtimg.cn/miniprogram/webview_jssdk/qqjssdk-1.0.0.js"},my:{url:"https://appx/web-view.min.js"},swan:{url:"https://b.bdstatic.com/searchbox/icms/searchbox/js/swan-2.0.4.js"},tt:{url:"https://lf3-cdn-tos.bytegoofy.com/obj/goofy/developer/jssdk/jssdk-1.2.1.js"}},window.sdkUrlMap),r=null,c=0,s=(a=location.href,(n=/mpx_webview_id=(\d+)/g.exec(a))&&n[1]&&(o=+n[1]),o),d={},w=function(e){var o=e.callbackId,a=e.error,n=e.result;void 0!==o&&d[o]&&(a?d[o](a):d[o](null,n),delete d[o])},g=navigator.userAgent;g.indexOf("AlipayClient")>-1&&g.indexOf("MiniProgram")>-1?r="my":g.toLowerCase().indexOf("miniprogram")>-1?r=g.indexOf("QQ")>-1?"qq":"wx":g.indexOf("swan/")>-1?r="swan":g.toLocaleLowerCase().indexOf("toutiao")>-1?r="tt":window.ReactNativeWebView?(r="rn",window.mpxWebviewMessageCallback=w):(r="web",window.addEventListener("message",(function(e){var o=e.data;try{"string"==typeof o&&(o=JSON.parse(o))}catch(e){}w(o)}),!1));var p=!1;function l(o){p?o():e.then((function(){p=!0,o()}))}var u={config:function(e){"wx"===r?l((function(){window.wx&&window.wx.config(e)})):console.warn("\u975e\u5fae\u4fe1\u73af\u5883\u4e0d\u9700\u8981\u914d\u7f6econfig")},onLoadScriptError:function(e){-1===t.indexOf(e)&&t.push(e)},offLoadScriptError:function(e){var o=t.indexOf(e);o>-1&&t.splice(o,1)}};function v(e){for(var o=arguments.length,a=new Array(o>1?o-1:0),n=1;n<o;n++)a[n-1]=arguments[n];"invoke"===e&&(e=a[0],a=a.slice(1));var t=a[0]||{};if("getEnv"!==e){var i=++c;d[i]=function(e,o){e?(t.fail&&t.fail(e),t.complete&&t.complete(e)):(t.success&&t.success(o),t.complete&&t.complete(o)),delete d[i]};var r={type:e,callbackId:c,args:a};void 0!==s&&(r.clientUid=s),window.ReactNativeWebView?window.ReactNativeWebView.postMessage&&window.ReactNativeWebView.postMessage(JSON.stringify(r)):window.parent.postMessage&&window.parent.postMessage(JSON.stringify(r),"*")}else{var w={webapp:!0};window.ReactNativeWebView&&(w={reactNative:!0}),t(w)}}var f=function(){var e={wx:{keyName:"miniProgram",api:["navigateTo","navigateBack","switchTab","reLaunch","redirectTo","postMessage","getEnv"]},tt:{keyName:"miniProgram",api:["redirectTo","navigateTo","switchTab","reLaunch","navigateBack","setSwipeBackModeSync","postMessage","getEnv","checkJsApi","chooseImage","compressImage","previewImage","uploadFile","getNetworkType","openLocation","getLocation"]},swan:{keyName:"webView",api:["navigateTo","navigateBack","switchTab","reLaunch","redirectTo","getEnv","postMessage"]},qq:{keyName:"miniProgram",api:["navigateTo","navigateBack","switchTab","reLaunch","redirectTo","getEnv","postMessage"]}}[r]||{},o={wx:["checkJSApi","chooseImage","previewImage","uploadImage","downloadImage","getLocalImgData","startRecord","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","downloadVoice","translateVoice","getNetworkType","openLocation","getLocation","startSearchBeacons","stopSearchBeacons","onSearchBeacons","scanQRCode","chooseCard","addCard","openCard"],my:["navigateTo","navigateBack","switchTab","reLaunch","redirectTo","chooseImage","previewImage","getLocation","openLocation","alert","showLoading","hideLoading","getNetworkType","startShare","tradePay","postMessage","onMessage","getEnv"],swan:["makePhoneCall","setClipboardData","getNetworkType","openLocation","getLocation","chooseLocation","chooseImage","previewImage","openShare","navigateToSmartProgram"],web:["navigateTo","navigateBack","switchTab","reLaunch","redirectTo","getEnv","postMessage","getLocation","invoke"],rn:["navigateTo","navigateBack","switchTab","reLaunch","redirectTo","getEnv","postMessage","getLocation","invoke"],tt:[]}[r]||[];(e.api||[]).forEach((function(o){u[o]=function(){for(var a=arguments.length,n=new Array(a),t=0;t<a;t++)n[t]=arguments[t];l((function(){var a;(a=window[r][e.keyName])[o].apply(a,n)}))}})),o.forEach((function(e){u[e]=function(){for(var o=arguments.length,a=new Array(o),n=0;n<o;n++)a[n]=arguments[n];"web"===r||"rn"===r?v.apply(void 0,[e].concat(a)):l("wx"===r?function(){window[r]&&window[r].ready((function(){var o;(o=window[r])[e].apply(o,a)}))}:function(){var o;(o=window[r])[e].apply(o,a)})}}))};return(e="web"!==r&&"rn"!==r?i[r].url?function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.time,n=void 0===a?5e3:a,t=o.crossOrigin,i=void 0!==t&&t;function r(){return new Promise((function(o,a){var n=document.createElement("script");n.type="text/javascript",n.async="async",i&&(n.crossOrigin="anonymous"),n.onload=n.onreadystatechange=function(){this.readyState&&!/^(loaded|complete)$/.test(this.readyState)||(o(),n.onload=n.onreadystatechange=null)},n.onerror=function(){a(new Error("load ".concat(e," error"))),n.onerror=null},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)}))}function c(){return new Promise((function(o,a){setTimeout((function(){a(new Error("load ".concat(e," timeout")))}),n)}))}return Promise.race([r(),c()])}(i[r].url):Promise.reject(new Error("\u672a\u627e\u5230\u5bf9\u5e94\u7684sdk")):Promise.resolve()).catch((function(e){t.forEach((function(o){"function"==typeof o&&o(e&&e.message||e)}))})),f(),u},"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):(e=e||self).mpx=o();